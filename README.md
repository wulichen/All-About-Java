# Thread Pool

a. 多线程的好处 http://www.cnblogs.com/gguozhenqian/archive/2011/11/16/2251521.html

-> 使用多线程的理由之一是和进程相比，它是一种非常花销小，切换快，更"节俭"的多任务操作方式。在Linux系统下，启动一个新的进程必须分配给它独立的地址空间，建立众多的数据表来维护它的代码段、堆栈段和数据段，这是一种"昂贵"的多任务工作方式。而运行于一个进程中的多个线程，它们彼此之间使用相同的地址空间，共享大部分数据，启动一个线程所花费的空间远远小于启动一个进程所花费的空间，而且，线程间彼此切换所需的时间也远远小于进程间切换所需要的时间。

-> 使用多线程的理由之二是线程间方便的通信机制。对不同进程来说，它们具有独立的数据空间，要进行数据的传递只能通过通信的方式进行，这种方式不仅费时，而且很不方便。线程则不然，由于同一进程下的线程之间共享数据空间，所以一个线程的数据可以直接为其它线程所用，这不仅快捷，而且方便。当然，数据的共享也带来其他一些问题，有的变量不能同时被两个线程所修改，有的子程序中声明为static的数据更有可能给多线程程序带来灾难性的打击，这些正是编写多线程程序时最需要注意的地方。

除了以上所说的优点外，不和进程比较，多线程程序作为一种多任务、并发的工作方式，当然有以下的优点：

   1) 提高应用程序响应。这对图形界面的程序尤其有意义，当一个操作耗时很长时，整个系统都会等待这个操作，此时程序不会响应键盘、鼠标、菜单的操作，而使用多线程技术，将耗时长的操作（time consuming）置于一个新的线程，可以避免这种尴尬的情况。

   2) 使多CPU系统更加有效。操作系统会保证当线程数不大于CPU数目时，不同的线程运行于不同的CPU上。
　　
   3) 改善程序结构。一个既长又复杂的进程可以考虑分为多个线程，成为几个独立或半独立的运行部分，这样的程序会利于理解和修改。


b. 线程池的好处

-> 提高线程的可管理性

1. 线程池实现原理

Executors是Java线程池的工厂类

-> 都是初始化ThreadPoolExecutor对象

ThreadPoolExecutor会有这么几个参数

1. corePoolSize：线程池的核心线程数。超过size会将任务放到blockedqueue中等待被执行

2. maximumPoolSize:线程池允许的最大线程数，如果blockedqueue满了，继续提交任务，则创建新的线程继续执行任务

3. keepAliveTime:线程数大于corePoolSize时，线程的存活时间

4. unit:keepAliveTime的单位，时间单位

5. workQueue是阻塞队列，一般用LinkedBlockingQueue，cachedThreadPool用的是SynchronousQueue
